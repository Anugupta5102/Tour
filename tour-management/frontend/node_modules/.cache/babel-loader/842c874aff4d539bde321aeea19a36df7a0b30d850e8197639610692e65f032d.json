{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\MernStack-Tour-Management\\\\tour-management\\\\frontend\\\\src\\\\pages\\\\Payment.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport PaymentForm from '../components/payment/PaymentForm';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport { getUserBookings } from '../services/api';\nimport { formatPrice } from '../utils/formatters';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Payment = () => {\n  _s();\n  var _booking$tourId, _booking$hotelId;\n  const {\n    bookingId\n  } = useParams();\n  const navigate = useNavigate();\n  const [booking, setBooking] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchBooking = async () => {\n      try {\n        const response = await getUserBookings();\n        const foundBooking = response.data.find(b => b._id === bookingId);\n        if (!foundBooking) {\n          throw new Error('Booking not found');\n        }\n        setBooking(foundBooking);\n      } catch (err) {\n        setError(err.message);\n        setTimeout(() => navigate('/bookings'), 3000);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBooking();\n  }, [bookingId, navigate]);\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center text-danger\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 21\n  }, this);\n  if (!booking) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: \"Booking not found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"py-5\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardBody, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mb-4\",\n              children: \"Complete Your Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-summary mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Booking Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Booking Reference:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: booking._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [booking.tourId ? 'Tour' : 'Hotel', \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: ((_booking$tourId = booking.tourId) === null || _booking$tourId === void 0 ? void 0 : _booking$tourId.title) || ((_booking$hotelId = booking.hotelId) === null || _booking$hotelId === void 0 ? void 0 : _booking$hotelId.name)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: [new Date(booking.startDate).toLocaleDateString(), booking.hotelId && ` - ${new Date(booking.endDate).toLocaleDateString()}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Number of People:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: booking.numberOfPeople\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"h5 text-primary mb-0\",\n                  children: formatPrice(booking.totalAmount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PaymentForm, {\n              booking: booking\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Payment, \"qLSYNuklWokNout4dvu+T/4yl7s=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Payment;\nexport default Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Row","Col","Card","CardBody","PaymentForm","LoadingSpinner","getUserBookings","formatPrice","jsxDEV","_jsxDEV","Payment","_s","_booking$tourId","_booking$hotelId","bookingId","navigate","booking","setBooking","loading","setLoading","error","setError","fetchBooking","response","foundBooking","data","find","b","_id","Error","err","message","setTimeout","fileName","_jsxFileName","lineNumber","columnNumber","className","children","md","tourId","title","hotelId","name","Date","startDate","toLocaleDateString","endDate","numberOfPeople","totalAmount","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/MernStack-Tour-Management/tour-management/frontend/src/pages/Payment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport PaymentForm from '../components/payment/PaymentForm';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport { getUserBookings } from '../services/api';\nimport { formatPrice } from '../utils/formatters';\n\nconst Payment = () => {\n  const { bookingId } = useParams();\n  const navigate = useNavigate();\n  const [booking, setBooking] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchBooking = async () => {\n      try {\n        const response = await getUserBookings();\n        const foundBooking = response.data.find(b => b._id === bookingId);\n        if (!foundBooking) {\n          throw new Error('Booking not found');\n        }\n        setBooking(foundBooking);\n      } catch (err) {\n        setError(err.message);\n        setTimeout(() => navigate('/bookings'), 3000);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBooking();\n  }, [bookingId, navigate]);\n\n  if (loading) return <LoadingSpinner />;\n  if (error) return <div className=\"text-center text-danger\">{error}</div>;\n  if (!booking) return <div className=\"text-center\">Booking not found</div>;\n\n  return (\n    <Container className=\"py-5\">\n      <Row className=\"justify-content-center\">\n        <Col md={8}>\n          <Card>\n            <CardBody>\n              <h3 className=\"mb-4\">Complete Your Payment</h3>\n              \n              {/* Booking Summary */}\n              <div className=\"booking-summary mb-4\">\n                <h5>Booking Summary</h5>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>Booking Reference:</span>\n                  <span className=\"text-muted\">{booking._id}</span>\n                </div>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>{booking.tourId ? 'Tour' : 'Hotel'}:</span>\n                  <span className=\"text-muted\">\n                    {booking.tourId?.title || booking.hotelId?.name}\n                  </span>\n                </div>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>Date:</span>\n                  <span className=\"text-muted\">\n                    {new Date(booking.startDate).toLocaleDateString()}\n                    {booking.hotelId && ` - ${new Date(booking.endDate).toLocaleDateString()}`}\n                  </span>\n                </div>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>Number of People:</span>\n                  <span className=\"text-muted\">{booking.numberOfPeople}</span>\n                </div>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>Total Amount:</span>\n                  <span className=\"h5 text-primary mb-0\">\n                    {formatPrice(booking.totalAmount)}\n                  </span>\n                </div>\n              </div>\n\n              {/* Payment Form */}\n              <PaymentForm booking={booking} />\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Payment;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}